{"sections":[],"variants":[{"paths":["\/documentation\/vaporoauth\/authcodegrant"],"traits":[{"interfaceLanguage":"swift"}]}],"abstract":[{"text":"Adding Authorization Code Grant to your project.","type":"text"}],"kind":"article","schemaVersion":{"patch":0,"minor":3,"major":0},"identifier":{"url":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AuthCodeGrant","interfaceLanguage":"swift"},"hierarchy":{"paths":[["doc:\/\/VaporOAuth\/documentation\/VaporOAuth"]]},"seeAlsoSections":[{"title":"Essentials","identifiers":["doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/Installation"],"generated":true}],"metadata":{"modules":[{"name":"VaporOAuth"}],"roleHeading":"Article","title":"Adding Authorization Code Grant to Your Project","role":"article"},"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","type":"heading","text":"Overview","level":2},{"inlineContent":[{"text":"You can add authorization code grant with following steps.","type":"text"}],"type":"paragraph"},{"text":"Define models","anchor":"Define-models","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"text":"You have to define models to store OAuth data(such as access-token).","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"To support authorization code grant, create models which conform to following protocols."}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AuthorizationCode","isActive":true,"type":"reference"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AuthorizationCodeScope","type":"reference"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AccessToken","isActive":true,"type":"reference"}]}]},{"content":[{"inlineContent":[{"type":"reference","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AccessTokenScope","isActive":true}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/RefreshToken"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/RefreshTokenScope","isActive":true,"type":"reference"}],"type":"paragraph"}]}],"type":"unorderedList"},{"inlineContent":[{"type":"text","text":"And you can use macros to implement properties required for protocol conformation. "},{"text":" ","type":"text"},{"type":"text","text":"Following macros are available."}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"overridingTitle":"@AuthorizationCodeModel","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AuthorizationCodeModel()","overridingTitleInlineContent":[{"text":"@AuthorizationCodeModel","type":"text"}],"isActive":true,"type":"reference"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"reference","isActive":true,"overridingTitleInlineContent":[{"text":"@AuthorizationCodeScopeModel","type":"text"}],"identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AuthorizationCodeScopeModel()","overridingTitle":"@AuthorizationCodeScopeModel"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"overridingTitle":"@AccessTokenModel","type":"reference","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AccessTokenModel()","overridingTitleInlineContent":[{"text":"@AccessTokenModel","type":"text"}],"isActive":true}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"overridingTitleInlineContent":[{"type":"text","text":"@AccessTokenScopeModel"}],"isActive":true,"identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AccessTokenScopeModel()","type":"reference","overridingTitle":"@AccessTokenScopeModel"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"overridingTitle":"@RefreshTokenModel","isActive":true,"type":"reference","overridingTitleInlineContent":[{"text":"@RefreshTokenModel","type":"text"}],"identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/RefreshTokenModel()"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/RefreshTokenScopeModel()","overridingTitle":"@RefreshTokenScopeModel","isActive":true,"overridingTitleInlineContent":[{"text":"@RefreshTokenScopeModel","type":"text"}]}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Then, implement "},{"code":"var schema","type":"codeVoice"},{"type":"text","text":" and "},{"type":"codeVoice","code":"typealias"},{"type":"text","text":"."}]},{"syntax":"swift","code":["@AccessTokenModel","public final class AccessTokens: AccessToken {","    public static var schema: String = \"oauth_access_tokens\"","    public typealias User = Users  \/\/ Set your user table model.","    public typealias AccessTokenScopeType = AccessTokenScopes","}"],"type":"codeListing"},{"level":3,"anchor":"Add-Migrations","type":"heading","text":"Add Migrations"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Next, you need to create tables on your database."},{"type":"text","text":""},{"text":" ","type":"text"},{"type":"text","text":"Following migration files are available."}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/CreateOAuthAuthorizationCodes"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/CreateOAuthAuthorizationCodeScopes","isActive":true}]}]},{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/CreateOAuthAccessTokens"}]}]},{"content":[{"inlineContent":[{"identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/CreateOAuthAccessTokenScopes","isActive":true,"type":"reference"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/CreateOAuthRefreshTokens"}]}]},{"content":[{"inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/CreateOAuthRefreshTokenScopes"}],"type":"paragraph"}]}]},{"type":"paragraph","inlineContent":[{"text":"You should add these migrations to configure.swift according to the following order because the tables refer each other.","type":"text"}]},{"type":"codeListing","code":["app.migrations.add(CreateUsers())","app.migrations.add(CreateOAuthScopes())","app.migrations.add(CreateOAuthClients())","app.migrations.add(CreateOAuthAccessTokens(userTableName: \"users\", userTableIdFiled: \"id\"))","app.migrations.add(CreateOAuthRefreshTokens(userTableName: \"users\", userTableIdField: \"id\"))","app.migrations.add(CreateOAuthAuthorizationCodes(userTableName: \"users\", userTableIdFiled: \"id\"))","app.migrations.add(CreateOAuthAccessTokenScopes())","app.migrations.add(CreateOAuthRefreshTokenScopes())","app.migrations.add(CreateOAuthAuthorizationCodeScopes())"],"syntax":"swift"},{"anchor":"Implement-Endpoints","text":"Implement Endpoints","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"text":"After defining model class and creating table on database, implement endpoints.","type":"text"},{"text":" ","type":"text"},{"identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AuthCodeUtility","isActive":true,"type":"reference"},{"text":" and ","type":"text"},{"identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AccessTokenUtility","type":"reference","isActive":true},{"text":" help you when implement.","type":"text"},{"text":" ","type":"text"},{"text":"Following codes show you how to use these class in controller(it conforms to RouteCollection).","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"The function ","type":"text"},{"identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AuthCodeUtility\/validateAuthRequest(req:redirectURI:)","isActive":true,"type":"reference"},{"text":" validates authorization code request.","type":"text"},{"type":"text","text":" "},{"text":"If the request is valid, it redirects user for authentication (e.g. login form).","type":"text"}]},{"code":["\/\/ MARK: - GET \/oauth\/","func getAuthTop(req: Request) async throws -> Response {","    return try await AuthCodeUtility().validateAuthRequest(req: req, redirectURI: \"\/oauth\/login\/\")","}"],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"text":"After getting user authorization, call ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AuthCodeUtility\/issueAuthCode(req:type:)"},{"type":"text","text":" to issue authorization code."},{"text":" ","type":"text"},{"type":"text","text":"This function checks whether user is authenticated"}],"type":"paragraph"},{"code":["\/\/ MARK: - POST \/oauth\/authorization\/","func postLoginForm(req: Request) async throws -> Response {","    return try await AuthCodeUtility().issueAuthCode(req: req, type: AuthorizationCodes.self)","}"],"syntax":"swift","type":"codeListing"},{"type":"paragraph","inlineContent":[{"text":"Finaly, implement the token endpoint.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"In this example, It was created the endpoint “\/oauth\/token\/” to issue and refresh access token."},{"type":"text","text":" "},{"type":"text","text":"The request is switched based on its request data, “grant_type”."},{"type":"text","text":" "},{"text":"You can get “grant_type” by decoding with ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AccessTokenRequest"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"text":"To issue access token based on authorization code, call  ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AccessTokenUtility\/accessTokenFromAuthCode(req:authCode:accessToken:refreshToken:)"},{"text":".","type":"text"},{"text":" ","type":"text"},{"text":"To refresh access token based on refresh token, call ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AccessTokenUtility\/accessTokenFromRefreshToken(req:accessToken:refreshToken:)"},{"type":"text","text":" "},{"text":"These function needs argument which specify the type of access\/refresh token.","type":"text"}]},{"syntax":"swift","code":["\/\/ MARK: - POST \/oauth\/token\/","func postTokenEndpoint(req: Request) async throws -> Response {","    let grantType = try req.content.decode(AccessTokenRequest.self).grant_type","    switch grantType {","    case \"authorization_code\":","        return try await AccessTokenUtility().accessTokenFromAuthCode(req: req, authCode: AuthorizationCodes.self, accessToken: AccessTokens.self, refreshToken: RefreshTokens.self)","        ","    case \"refresh_token\":","        return try await AccessTokenUtility().accessTokenFromRefreshToken(req: req, accessToken: AccessTokens.self, refreshToken: RefreshTokens.self)","        ","    default:","        throw Abort(.badRequest, reason: \"Unknown grant_type.\")","    }","}"],"type":"codeListing"}]}],"references":{"doc://VaporOAuth/documentation/VaporOAuth/AuthCodeUtility/validateAuthRequest(req:redirectURI:)":{"kind":"symbol","url":"\/documentation\/vaporoauth\/authcodeutility\/validateauthrequest(req:redirecturi:)","type":"topic","role":"symbol","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"kind":"identifier","text":"validateAuthRequest"},{"text":"(","kind":"text"},{"text":"req","kind":"externalParam"},{"kind":"text","text":": "},{"text":"Request","kind":"typeIdentifier","preciseIdentifier":"s:5Vapor7RequestC"},{"kind":"text","text":", "},{"text":"redirectURI","kind":"externalParam"},{"kind":"text","text":": "},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"},{"text":") ","kind":"text"},{"text":"async","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"keyword","text":"throws"},{"text":" -> ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:5Vapor8ResponseC","text":"Response"}],"abstract":[{"text":"Validate authorization code request and create response for redirection to login form.","type":"text"}],"title":"validateAuthRequest(req:redirectURI:)","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AuthCodeUtility\/validateAuthRequest(req:redirectURI:)"},"doc://VaporOAuth/documentation/VaporOAuth/Installation":{"identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/Installation","title":"Installation","type":"topic","role":"article","abstract":[{"text":"Add oauth-for-vapor package to your project.","type":"text"}],"url":"\/documentation\/vaporoauth\/installation","kind":"article"},"doc://VaporOAuth/documentation/VaporOAuth/AccessTokenUtility":{"url":"\/documentation\/vaporoauth\/accesstokenutility","title":"AccessTokenUtility","navigatorTitle":[{"text":"AccessTokenUtility","kind":"identifier"}],"role":"symbol","abstract":[],"fragments":[{"text":"class","kind":"keyword"},{"kind":"text","text":" "},{"text":"AccessTokenUtility","kind":"identifier"}],"kind":"symbol","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AccessTokenUtility","type":"topic"},"doc://VaporOAuth/documentation/VaporOAuth/CreateOAuthRefreshTokenScopes":{"navigatorTitle":[{"kind":"identifier","text":"CreateOAuthRefreshTokenScopes"}],"type":"topic","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/CreateOAuthRefreshTokenScopes","role":"symbol","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"text":"CreateOAuthRefreshTokenScopes","kind":"identifier"}],"abstract":[{"type":"text","text":"Create table which relates refresh-token and scope."}],"title":"CreateOAuthRefreshTokenScopes","kind":"symbol","url":"\/documentation\/vaporoauth\/createoauthrefreshtokenscopes"},"doc://VaporOAuth/documentation/VaporOAuth/AccessTokenScope":{"kind":"symbol","url":"\/documentation\/vaporoauth\/accesstokenscope","type":"topic","role":"symbol","fragments":[{"text":"protocol","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"AccessTokenScope"}],"abstract":[{"type":"text","text":"A protocol that defines menbers for table which associates access-token and scopes."}],"navigatorTitle":[{"kind":"identifier","text":"AccessTokenScope"}],"title":"AccessTokenScope","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AccessTokenScope"},"doc://VaporOAuth/documentation/VaporOAuth/RefreshToken":{"kind":"symbol","url":"\/documentation\/vaporoauth\/refreshtoken","type":"topic","role":"symbol","fragments":[{"text":"protocol","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"RefreshToken"}],"abstract":[{"type":"text","text":"A protocol that defines members for table which stores refresh tokens."}],"navigatorTitle":[{"text":"RefreshToken","kind":"identifier"}],"title":"RefreshToken","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/RefreshToken"},"doc://VaporOAuth/documentation/VaporOAuth/CreateOAuthAccessTokenScopes":{"title":"CreateOAuthAccessTokenScopes","type":"topic","navigatorTitle":[{"text":"CreateOAuthAccessTokenScopes","kind":"identifier"}],"kind":"symbol","abstract":[{"text":"Create a table which relates access-token and scopes.","type":"text"}],"role":"symbol","url":"\/documentation\/vaporoauth\/createoauthaccesstokenscopes","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/CreateOAuthAccessTokenScopes","fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"text":"CreateOAuthAccessTokenScopes","kind":"identifier"}]},"doc://VaporOAuth/documentation/VaporOAuth/RefreshTokenScopeModel()":{"fragments":[{"kind":"keyword","text":"macro"},{"text":" ","kind":"text"},{"text":"RefreshTokenScopeModel","kind":"identifier"},{"kind":"text","text":"()"}],"type":"topic","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/RefreshTokenScopeModel()","abstract":[],"role":"symbol","kind":"symbol","title":"RefreshTokenScopeModel()","url":"\/documentation\/vaporoauth\/refreshtokenscopemodel()"},"doc://VaporOAuth/documentation/VaporOAuth/AccessTokenUtility/accessTokenFromAuthCode(req:authCode:accessToken:refreshToken:)":{"role":"symbol","type":"topic","abstract":[{"type":"text","text":"Issue access token based on authorization code."}],"url":"\/documentation\/vaporoauth\/accesstokenutility\/accesstokenfromauthcode(req:authcode:accesstoken:refreshtoken:)","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AccessTokenUtility\/accessTokenFromAuthCode(req:authCode:accessToken:refreshToken:)","title":"accessTokenFromAuthCode(req:authCode:accessToken:refreshToken:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"text":"accessTokenFromAuthCode","kind":"identifier"},{"kind":"text","text":"<"},{"text":"AuthCodes","kind":"genericParameter"},{"kind":"text","text":", "},{"kind":"genericParameter","text":"AccessTokens"},{"kind":"text","text":", "},{"kind":"genericParameter","text":"RefreshTokens"},{"text":">(","kind":"text"},{"text":"req","kind":"externalParam"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:5Vapor7RequestC","text":"Request"},{"kind":"text","text":", "},{"text":"authCode","kind":"externalParam"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"AuthCodes"},{"text":".Type, ","kind":"text"},{"text":"accessToken","kind":"externalParam"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"AccessTokens"},{"text":".Type, ","kind":"text"},{"kind":"externalParam","text":"refreshToken"},{"text":": ","kind":"text"},{"text":"RefreshTokens","kind":"typeIdentifier"},{"kind":"text","text":".Type) "},{"kind":"keyword","text":"async"},{"text":" ","kind":"text"},{"text":"throws","kind":"keyword"},{"text":" -> ","kind":"text"},{"text":"Response","preciseIdentifier":"s:5Vapor8ResponseC","kind":"typeIdentifier"}],"kind":"symbol"},"doc://VaporOAuth/documentation/VaporOAuth/RefreshTokenScope":{"fragments":[{"kind":"keyword","text":"protocol"},{"text":" ","kind":"text"},{"kind":"identifier","text":"RefreshTokenScope"}],"type":"topic","abstract":[{"text":"A protocol that defines members for table which associates refresh-token and scopes.","type":"text"}],"title":"RefreshTokenScope","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/RefreshTokenScope","kind":"symbol","navigatorTitle":[{"kind":"identifier","text":"RefreshTokenScope"}],"role":"symbol","url":"\/documentation\/vaporoauth\/refreshtokenscope"},"doc://VaporOAuth/documentation/VaporOAuth/AuthorizationCodeScope":{"fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"text":"AuthorizationCodeScope","kind":"identifier"}],"identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AuthorizationCodeScope","kind":"symbol","navigatorTitle":[{"text":"AuthorizationCodeScope","kind":"identifier"}],"type":"topic","abstract":[{"type":"text","text":"A protocol that defines members for table which associates authorization-code and scopes."}],"title":"AuthorizationCodeScope","role":"symbol","url":"\/documentation\/vaporoauth\/authorizationcodescope"},"doc://VaporOAuth/documentation/VaporOAuth/RefreshTokenModel()":{"identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/RefreshTokenModel()","title":"RefreshTokenModel()","type":"topic","role":"symbol","fragments":[{"text":"macro","kind":"keyword"},{"kind":"text","text":" "},{"text":"RefreshTokenModel","kind":"identifier"},{"kind":"text","text":"()"}],"abstract":[],"kind":"symbol","url":"\/documentation\/vaporoauth\/refreshtokenmodel()"},"doc://VaporOAuth/documentation/VaporOAuth/AccessTokenRequest":{"identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AccessTokenRequest","url":"\/documentation\/vaporoauth\/accesstokenrequest","abstract":[],"kind":"symbol","role":"symbol","type":"topic","title":"AccessTokenRequest","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"text":"AccessTokenRequest","kind":"identifier"}],"navigatorTitle":[{"text":"AccessTokenRequest","kind":"identifier"}]},"doc://VaporOAuth/documentation/VaporOAuth/CreateOAuthRefreshTokens":{"navigatorTitle":[{"kind":"identifier","text":"CreateOAuthRefreshTokens"}],"type":"topic","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/CreateOAuthRefreshTokens","role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"CreateOAuthRefreshTokens"}],"abstract":[{"text":"Create table which stores refresh-token.","type":"text"}],"title":"CreateOAuthRefreshTokens","kind":"symbol","url":"\/documentation\/vaporoauth\/createoauthrefreshtokens"},"doc://VaporOAuth/documentation/VaporOAuth/AccessTokenUtility/accessTokenFromRefreshToken(req:accessToken:refreshToken:)":{"title":"accessTokenFromRefreshToken(req:accessToken:refreshToken:)","url":"\/documentation\/vaporoauth\/accesstokenutility\/accesstokenfromrefreshtoken(req:accesstoken:refreshtoken:)","role":"symbol","abstract":[{"type":"text","text":"Issue access-token based on refresh-token."}],"fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"accessTokenFromRefreshToken","kind":"identifier"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"AccessTokens"},{"text":", ","kind":"text"},{"text":"RefreshTokens","kind":"genericParameter"},{"text":">(","kind":"text"},{"kind":"externalParam","text":"req"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"Request","preciseIdentifier":"s:5Vapor7RequestC"},{"kind":"text","text":", "},{"text":"accessToken","kind":"externalParam"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"AccessTokens"},{"kind":"text","text":".Type, "},{"kind":"externalParam","text":"refreshToken"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"RefreshTokens"},{"text":".Type) ","kind":"text"},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"Response","preciseIdentifier":"s:5Vapor8ResponseC"}],"kind":"symbol","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AccessTokenUtility\/accessTokenFromRefreshToken(req:accessToken:refreshToken:)","type":"topic"},"doc://VaporOAuth/documentation/VaporOAuth/CreateOAuthAuthorizationCodes":{"type":"topic","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"CreateOAuthAuthorizationCodes"}],"navigatorTitle":[{"kind":"identifier","text":"CreateOAuthAuthorizationCodes"}],"title":"CreateOAuthAuthorizationCodes","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/CreateOAuthAuthorizationCodes","abstract":[{"type":"text","text":"Create table which stores authorization-code."}],"role":"symbol","kind":"symbol","url":"\/documentation\/vaporoauth\/createoauthauthorizationcodes"},"doc://VaporOAuth/documentation/VaporOAuth/AuthCodeUtility/issueAuthCode(req:type:)":{"kind":"symbol","url":"\/documentation\/vaporoauth\/authcodeutility\/issueauthcode(req:type:)","type":"topic","role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"issueAuthCode"},{"text":"<","kind":"text"},{"text":"AuthCodes","kind":"genericParameter"},{"text":">(","kind":"text"},{"text":"req","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"Request","kind":"typeIdentifier","preciseIdentifier":"s:5Vapor7RequestC"},{"kind":"text","text":", "},{"kind":"externalParam","text":"type"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"AuthCodes"},{"text":".Type) ","kind":"text"},{"kind":"keyword","text":"async"},{"text":" ","kind":"text"},{"text":"throws","kind":"keyword"},{"text":" -> ","kind":"text"},{"kind":"typeIdentifier","text":"Response","preciseIdentifier":"s:5Vapor8ResponseC"}],"abstract":[{"type":"text","text":"Issue authorization code after login."}],"title":"issueAuthCode(req:type:)","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AuthCodeUtility\/issueAuthCode(req:type:)"},"doc://VaporOAuth/documentation/VaporOAuth":{"type":"topic","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth","role":"collection","title":"VaporOAuth","url":"\/documentation\/vaporoauth","kind":"symbol","abstract":[{"type":"text","text":"Add OAuth2 authorization to your vapor projects."}]},"doc://VaporOAuth/documentation/VaporOAuth/CreateOAuthAccessTokens":{"title":"CreateOAuthAccessTokens","abstract":[{"text":"Create table which stores access-token.","type":"text"}],"identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/CreateOAuthAccessTokens","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"CreateOAuthAccessTokens"}],"type":"topic","kind":"symbol","fragments":[{"kind":"keyword","text":"struct"},{"text":" ","kind":"text"},{"text":"CreateOAuthAccessTokens","kind":"identifier"}],"url":"\/documentation\/vaporoauth\/createoauthaccesstokens"},"doc://VaporOAuth/documentation/VaporOAuth/CreateOAuthAuthorizationCodeScopes":{"role":"symbol","url":"\/documentation\/vaporoauth\/createoauthauthorizationcodescopes","type":"topic","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"CreateOAuthAuthorizationCodeScopes"}],"navigatorTitle":[{"text":"CreateOAuthAuthorizationCodeScopes","kind":"identifier"}],"kind":"symbol","title":"CreateOAuthAuthorizationCodeScopes","abstract":[{"type":"text","text":"Create table which relates authorization-code and scope."}],"identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/CreateOAuthAuthorizationCodeScopes"},"doc://VaporOAuth/documentation/VaporOAuth/AuthorizationCodeScopeModel()":{"identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AuthorizationCodeScopeModel()","title":"AuthorizationCodeScopeModel()","type":"topic","role":"symbol","fragments":[{"text":"macro","kind":"keyword"},{"kind":"text","text":" "},{"text":"AuthorizationCodeScopeModel","kind":"identifier"},{"kind":"text","text":"()"}],"abstract":[],"url":"\/documentation\/vaporoauth\/authorizationcodescopemodel()","kind":"symbol"},"doc://VaporOAuth/documentation/VaporOAuth/AccessTokenModel()":{"type":"topic","fragments":[{"kind":"keyword","text":"macro"},{"text":" ","kind":"text"},{"kind":"identifier","text":"AccessTokenModel"},{"text":"()","kind":"text"}],"title":"AccessTokenModel()","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AccessTokenModel()","abstract":[],"role":"symbol","kind":"symbol","url":"\/documentation\/vaporoauth\/accesstokenmodel()"},"doc://VaporOAuth/documentation/VaporOAuth/AccessTokenScopeModel()":{"type":"topic","fragments":[{"text":"macro","kind":"keyword"},{"kind":"text","text":" "},{"text":"AccessTokenScopeModel","kind":"identifier"},{"kind":"text","text":"()"}],"title":"AccessTokenScopeModel()","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AccessTokenScopeModel()","abstract":[],"role":"symbol","kind":"symbol","url":"\/documentation\/vaporoauth\/accesstokenscopemodel()"},"doc://VaporOAuth/documentation/VaporOAuth/AuthCodeUtility":{"kind":"symbol","url":"\/documentation\/vaporoauth\/authcodeutility","type":"topic","role":"symbol","fragments":[{"kind":"keyword","text":"class"},{"text":" ","kind":"text"},{"kind":"identifier","text":"AuthCodeUtility"}],"abstract":[],"navigatorTitle":[{"text":"AuthCodeUtility","kind":"identifier"}],"title":"AuthCodeUtility","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AuthCodeUtility"},"doc://VaporOAuth/documentation/VaporOAuth/AuthorizationCodeModel()":{"abstract":[],"url":"\/documentation\/vaporoauth\/authorizationcodemodel()","role":"symbol","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AuthorizationCodeModel()","title":"AuthorizationCodeModel()","type":"topic","fragments":[{"text":"macro","kind":"keyword"},{"kind":"text","text":" "},{"text":"AuthorizationCodeModel","kind":"identifier"},{"kind":"text","text":"()"}],"kind":"symbol"},"doc://VaporOAuth/documentation/VaporOAuth/AccessToken":{"kind":"symbol","title":"AccessToken","role":"symbol","type":"topic","identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AccessToken","abstract":[{"text":"A protocol that defines the members for table which stores access tokens.","type":"text"}],"url":"\/documentation\/vaporoauth\/accesstoken","fragments":[{"text":"protocol","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"AccessToken"}],"navigatorTitle":[{"text":"AccessToken","kind":"identifier"}]},"doc://VaporOAuth/documentation/VaporOAuth/AuthorizationCode":{"fragments":[{"text":"protocol","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"AuthorizationCode"}],"identifier":"doc:\/\/VaporOAuth\/documentation\/VaporOAuth\/AuthorizationCode","kind":"symbol","navigatorTitle":[{"text":"AuthorizationCode","kind":"identifier"}],"type":"topic","abstract":[{"type":"text","text":"A protocol that defines menbers for table which stores authorization codes."}],"title":"AuthorizationCode","role":"symbol","url":"\/documentation\/vaporoauth\/authorizationcode"}}}